plugins {
	id 'com.android.library'
	id 'maven-publish'
}

android {
	compileSdk = 36
	defaultConfig {
		minSdk = 23
		targetSdk = 36
		version = "2.0.0"
		versionCode = 2000000
	}

	buildFeatures {
		buildConfig = true
	}

	buildTypes {
		release {
			minifyEnabled = true
			shrinkResources = false
			proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
		}

		debug {
			minifyEnabled = false
			shrinkResources = false
		}
	}

	compileOptions {
		sourceCompatibility JavaVersion.VERSION_21
		targetCompatibility JavaVersion.VERSION_21
	}

	tasks.withType(JavaCompile).configureEach {
		options.compilerArgs += ['-Xlint:deprecation']
	}

	publishing {
		singleVariant("release") {
			withSourcesJar()
		}
	}

	namespace = 'com.github.evilbunny2008.ColourPicker'
}

dependencies {
	implementation fileTree(include: ['*.jar'], dir: 'libs')
	implementation 'com.google.android.material:material:1.13.0'
}

tasks.withType(Test).configureEach {
	enabled = false
}

afterEvaluate {
	publishing {
		publications {
			release(MavenPublication) {
				from components.release
				groupId = 'com.github.evilbunny2008'
				artifactId = 'ColourPicker'
				version = '2.0.0'
			}
		}
	}
}